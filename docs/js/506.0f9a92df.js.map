{"version":3,"file":"js/506.0f9a92df.js","mappings":"6PAGMA,EAAa,CAAEC,MAAO,8DAW5B,GAA4B,QAAiB,CAC3CC,OAAQ,eACRC,MAAA,SAAMC,GAAN,WAEIC,GAAQ,UACRC,GAAQ,UACRC,GAAK,SAAiB,WAC1B,OAAOD,EAAME,OAAOD,EACtB,IACME,GAAO,SAAiB,WAC5B,OAAOH,EAAME,OAAOC,IACtB,IACMC,GAAW,SAAa,GACxBC,GAA6B,UAC7BC,GAAW,QAAW,KAC5B,SAAU,sD,wDACR,SAAMC,K,cAAN,S,eAGF,SACE,WAAM,OAAAN,EAAGO,KAAH,IACN,SAAOC,GAAC,2C,wDAGN,OAFAJ,EAAGG,WAAQE,EACXJ,EAASE,MAAQ,GACjB,GAAMD,K,cAAN,S,cAGJ,IAAMA,EAAM,sD,qEAEY,OADtBR,EAAMY,OAAO,mBAAmB,GACV,IAAM,QAAkBR,EAAKK,MAAOP,EAAGO,MAAOH,EAAGG,Q,cAAjEI,EAAgB,SACtBP,EAAGG,MAAQI,EAAcC,KACzBT,EAASI,MAAQI,EAAcC,KAAKC,OAAS,EAC7CF,EAAcC,KAAKE,SAAQ,SAAOC,GAAC,2C,8DAEjC,OADIC,EAAe,GACnB,IAAM,QAAgBD,EAAEE,OAAOjB,IAAIkB,MAAK,SAACC,GACvCA,EAAIL,SAAQ,SAACM,GACX,IAAMC,EAAUD,EAAEH,OAAOI,QACzBL,GAAgBK,CAClB,GACF,K,cALA,SAMAhB,EAASE,MAAMe,SAAQ,oBAAKP,EAAEE,QAAM,CAAEM,KAAMP,K,cAE9ClB,EAAMY,OAAO,mBAAmB,G,YAGlC,OAAO,SAACc,EAAUC,GAGhB,OAAQ,WAAc,QAAoB,MAAOhC,EAAY,EAC3D,QAAaiC,EAAA,EAAc,CAAErB,SAAUA,EAASE,OAAS,KAAM,EAAG,CAAC,cACnE,QAAa,IAAkB,CAC7Bb,MAAO,yBACPiC,MAAO,IACPC,MAAO,qBACPC,KAAM,UACNC,QAAS,OACTC,QAASzB,EACTH,SAAUA,EAASI,OAClB,CACDyB,SAAS,SAAS,WAAM,QACtB,QAAiB,OADK,IAGxBC,EAAG,GACF,EAAG,CAAC,cAEX,CACA,IC7EA,MAAMC,EAAc,EAEpB,O","sources":["webpack://who_is_yjh/./src/views/mgmt/CategoryView.vue?3caf","webpack://who_is_yjh/./src/views/mgmt/CategoryView.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"white--text green d-flex flex-column darken-3 ƒ-auto w-100\" }\n\nimport { computed, onMounted, ref, Ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRoute } from \"vue-router\";\nimport { Content, PostContent } from \"@/utils/types\";\nimport ContentItem from \"@/components/ContentItem.vue\";\nimport { getFilterContents } from \"@/models/content\";\nimport ContentItems from \"@/components/ContentItems.vue\";\nimport { getPostContents } from \"@/models/postContent\";\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CategoryView',\n  setup(__props) {\n\nconst store = useStore();\nconst route = useRoute();\nconst id = computed<string>(() => {\n  return route.params.id as string;\n});\nconst type = computed<string>(() => {\n  return route.params.type as string;\n});\nconst disabled = ref<boolean>(true);\nconst qs: Ref<any[] | undefined> = ref();\nconst contents = ref<any[]>([]);\nonMounted(async () => {\n  await add();\n});\n\nwatch(\n  () => id.value,\n  async (c) => {\n    qs.value = undefined;\n    contents.value = [];\n    await add();\n  }\n);\nconst add = async () => {\n  store.commit(\"setLoadingState\", true);\n  const querySnapshot = await getFilterContents(type.value, id.value, qs.value);\n  qs.value = querySnapshot.docs;\n  disabled.value = querySnapshot.docs.length < 6;\n  querySnapshot.docs.forEach(async (d) => {\n    let postContents = \"\";\n    await getPostContents(d.data().id).then((res) => {\n      res.forEach((v) => {\n        const content = v.data().content;\n        postContents += content;\n      });\n    });\n    contents.value.unshift({ ...d.data(), text: postContents });\n  });\n  store.commit(\"setLoadingState\", false);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(ContentItems, { contents: contents.value }, null, 8, [\"contents\"]),\n    _createVNode(_component_v_btn, {\n      class: \"text-none mb-4 mx-auto\",\n      width: 500,\n      color: \"blue-grey-darken-1\",\n      size: \"x-large\",\n      variant: \"flat\",\n      onClick: add,\n      disabled: disabled.value\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"더보기\")\n      ]),\n      _: 1\n    }, 8, [\"disabled\"])\n  ]))\n}\n}\n\n})","import script from \"./CategoryView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CategoryView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","__name","setup","__props","store","route","id","params","type","disabled","qs","contents","add","value","c","undefined","commit","querySnapshot","docs","length","forEach","d","postContents","data","then","res","v","content","unshift","text","_ctx","_cache","ContentItems","width","color","size","variant","onClick","default","_","__exports__"],"sourceRoot":""}